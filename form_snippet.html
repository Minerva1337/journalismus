
<!-- Dies ist ein HTML-Snippet zur Integration in play.php -->

<form id="auswertungForm" method="post" action="auswertung.php">
  <input type="hidden" name="selected_blocks[]" id="selectedBlocksInput" value="">
  <button type="submit">ğŸ“ˆ Ergebnis berechnen</button>
</form>

<script>
document.getElementById("auswertungForm").addEventListener("submit", function(e) {
  const selected = Array.from(document.querySelectorAll("#slots .block"))
    .map(b => b.getAttribute("data-id"));

  if (selected.length === 0) {
    alert("Bitte wÃ¤hle mindestens einen Block aus.");
    e.preventDefault();
    return;
  }

  // Hidden input aktualisieren
  const input = document.getElementById("selectedBlocksInput");
  input.value = "";

  selected.forEach(id => {
    const hidden = document.createElement("input");
    hidden.type = "hidden";
    hidden.name = "selected_blocks[]";
    hidden.value = id;
    this.appendChild(hidden);
  });
});
</script>
